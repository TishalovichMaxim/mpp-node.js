<!doctype html>
<html lang="en-US">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <title>Tasks</title>
    </head>
    <body>
        <%- include('./sub/navbar.ejs'); -%>
        <form action="/tasks" method="post">
            <div>
                <label for="name">Name: </label>
                <input type="text" name="name" required />
            </div>
            <div>
                <label for="description">Description: </label>
                <input type="text" name="description" required />
            </div>
            <div>
                <label for="status">Status: </label>
                <input type="text" name="status" required />
            </div>
            <div>
                <label for="start">Completion date: </label>
                <input type="date" id="completionDate" name="expected-completion-date" required />
            </div>
            <div>
                <input type="submit" value="Add" />
            </div>
        </form>
    </body>
    <script>
        let today = new Date()
        let dd = today.getDate()
        let mm = today.getMonth() + 1
        let yyyy = today.getFullYear()

        if (dd < 10) {
           dd = '0' + dd
        }

        if (mm < 10) {
           mm = '0' + mm
        } 
            
        today = yyyy + '-' + mm + '-' + dd
        document.getElementById("completionDate").min = today
    </script>
</html>

